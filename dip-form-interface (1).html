<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire DIP et Partie A du Rapport de Sécurité</title>
    <style>
        :root {
            --primary: #3a6ea5;
            --secondary: #6c757d;
            --success: #28a745;
            --danger: #dc3545;
            --light: #f8f9fa;
            --dark: #343a40;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            border-radius: 5px 5px 0 0;
            margin-bottom: 20px;
        }
        
        h1, h2, h3 {
            margin-bottom: 15px;
        }
        
        form {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .form-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .form-section-title {
            background-color: var(--primary);
            color: white;
            padding: 10px;
            margin: -20px -20px 20px -20px;
            border-radius: 5px 5px 0 0;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        textarea {
            height: 100px;
            resize: vertical;
        }
        
        .help-text {
            font-size: 14px;
            color: var(--secondary);
            margin-top: 5px;
        }
        
        .info-tooltip {
            display: inline-block;
            position: relative;
            margin-left: 5px;
            cursor: help;
        }
        
        .info-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            background-color: var(--secondary);
            color: white;
            border-radius: 50%;
            font-size: 12px;
            font-weight: bold;
        }
        
        .tooltip-content {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            background-color: var(--dark);
            color: white;
            padding: 10px;
            border-radius: 4px;
            font-size: 14px;
            z-index: 100;
        }
        
        .info-tooltip:hover .tooltip-content {
            display: block;
        }
        
        .required::after {
            content: " *";
            color: var(--danger);
        }
        
        .checkbox-group {
            margin-bottom: 15px;
        }
        
        .checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .checkbox-container input[type="checkbox"],
        .checkbox-container input[type="radio"] {
            margin-right: 10px;
        }
        
        .file-upload {
            border: 2px dashed #ddd;
            padding: 20px;
            text-align: center;
            border-radius: 4px;
            margin-bottom: 20px;
            cursor: pointer;
        }
        
        .file-upload:hover {
            border-color: var(--primary);
        }
        
        .file-upload-input {
            display: none;
        }
        
        .submit-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 30px auto 0;
        }
        
        .submit-btn:hover {
            background-color: #2a5a8a;
        }
        
        .section-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .nav-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .nav-btn:hover {
            background-color: #5a6268;
        }
        
        .hidden {
            display: none;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .form-section {
                padding: 15px;
            }
            
            .tooltip-content {
                width: 250px;
            }
        }
        
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        
        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .alert-danger {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .file-list {
            margin-top: 10px;
        }
        
        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f8f9fa;
            padding: 8px 12px;
            margin-bottom: 5px;
            border-radius: 4px;
        }
        
        .remove-file {
            color: var(--danger);
            cursor: pointer;
        }
        
        .ingredient-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .ingredient-row input, .ingredient-row select {
            flex: 1;
        }
        
        .add-btn {
            background-color: var(--success);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 15px;
        }
        
        .remove-btn {
            background-color: var(--danger);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .tab-btn {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid transparent;
            border-bottom: none;
            background-color: #f1f1f1;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        
        .tab-btn.active {
            background-color: white;
            border-color: #ddd;
            border-bottom-color: white;
            position: relative;
            bottom: -1px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Formulaire DIP et Partie A du Rapport de Sécurité</h1>
            <p>Remplissez ce formulaire pour fournir toutes les informations nécessaires à la préparation du Dossier d'Information Produit (DIP) et de la partie A du Rapport de Sécurité conformément au Règlement (CE) N° 1223/2009.</p>
        </header>
        
        <div class="tabs">
            <div class="tab-btn active" onclick="showTab('dip-tab')">Dossier d'Information Produit</div>
            <div class="tab-btn" onclick="showTab('safety-tab')">Partie A du Rapport de Sécurité</div>
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progressBar"></div>
        </div>
        
        <form id="cosmeticForm">
            <!-- TAB DIP -->
            <div id="dip-tab">
                <div class="form-section" id="section1">
                    <h2 class="form-section-title">1. Informations générales sur le produit</h2>
                    
                    <div class="form-group">
                        <label for="companyName" class="required">Nom de l'entreprise</label>
                        <input type="text" id="companyName" name="companyName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="contactPerson" class="required">Personne à contacter</label>
                        <input type="text" id="contactPerson" name="contactPerson" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="contactEmail" class="required">Email de contact</label>
                        <input type="email" id="contactEmail" name="contactEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="contactPhone" class="required">Téléphone de contact</label>
                        <input type="tel" id="contactPhone" name="contactPhone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="productName" class="required">Nom du produit</label>
                        <input type="text" id="productName" name="productName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="productCategory" class="required">Catégorie du produit</label>
                        <select id="productCategory" name="productCategory" required>
                            <option value="">Sélectionnez une catégorie</option>
                            <option value="Soin visage">Soin visage</option>
                            <option value="Soin corps">Soin corps</option>
                            <option value="Soin cheveux">Soin cheveux</option>
                            <option value="Maquillage">Maquillage</option>
                            <option value="Parfum">Parfum</option>
                            <option value="Hygiène buccale">Hygiène buccale</option>
                            <option value="Protection solaire">Protection solaire</option>
                            <option value="Autre">Autre</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="productDescription" class="required">Description détaillée du produit</label>
                        <textarea id="productDescription" name="productDescription" required></textarea>
                        <p class="help-text">Décrivez la forme physique, la couleur, l'odeur et les caractéristiques principales.</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="targetConsumers" class="required">Public cible</label>
                        <select id="targetConsumers" name="targetConsumers" required>
                            <option value="">Sélectionnez le public cible</option>
                            <option value="Adultes">Adultes</option>
                            <option value="Enfants">Enfants (moins de 14 ans)</option>
                            <option value="Bébés">Bébés (moins de 3 ans)</option>
                            <option value="Tous">Tous les publics</option>
                        </select>
                    </div>
                    
                    <div class="section-navigation">
                        <div></div>
                        <button type="button" class="nav-btn" onclick="nextSection(1)">Suivant</button>
                    </div>
                </div>
                
                <div class="form-section hidden" id="section2">
                    <h2 class="form-section-title">2. Formule qualitative et quantitative du produit</h2>
                    
                    <div class="form-group">
                        <label class="required">Composition du produit</label>
                        <p class="help-text">Indiquez tous les ingrédients et leurs concentrations. Suivez la nomenclature INCI.</p>
                        
                        <div id="ingredientsList">
                            <div class="ingredient-row">
                                <input type="text" placeholder="Nom INCI de l'ingrédient" name="ingredient[]" required>
                                <input type="number" placeholder="Concentration (%)" name="concentration[]" step="0.01" min="0" max="100" required>
                                <select name="function[]" required>
                                    <option value="">Fonction</option>
                                    <option value="Base">Base</option>
                                    <option value="Émulsifiant">Émulsifiant</option>
                                    <option value="Conservateur">Conservateur</option>
                                    <option value="Parfum">Parfum</option>
                                    <option value="Actif">Actif</option>
                                    <option value="Colorant">Colorant</option>
                                    <option value="Autre">Autre</option>
                                </select>
                                <button type="button" class="remove-btn">X</button>
                            </div>
                        </div>
                        
                        <button type="button" class="add-btn" onclick="addIngredientRow()">Ajouter un ingrédient</button>
                    </div>
                    
                    <div class="form-group">
                        <label for="formulaUpload">Télécharger la formule complète (fichier Excel, PDF)</label>
                        <div class="file-upload" onclick="document.getElementById('formulaUpload').click()">
                            <p>Cliquez pour télécharger ou glissez-déposez</p>
                            <input type="file" id="formulaUpload" name="formulaUpload" class="file-upload-input" accept=".pdf,.xls,.xlsx,.doc,.docx">
                        </div>
                        <div id="formulaFileList" class="file-list"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="required">Le produit contient-il des substances classées CMR ?</label>
                        <div class="info-tooltip">
                            <span class="info-icon">?</span>
                            <div class="tooltip-content">
                                Les substances CMR (Cancérogènes, Mutagènes ou toxiques pour la Reproduction) sont des substances qui peuvent provoquer le cancer, des mutations génétiques ou affecter la reproduction. Leur utilisation est strictement réglementée dans les produits cosmétiques.
                            </div>
                        </div>
                        <div class="checkbox-container">
                            <input type="radio" id="cmrYes" name="containsCMR" value="yes">
                            <label for="cmrYes">Oui</label>
                        </div>
                        <div class="checkbox-container">
                            <input type="radio" id="cmrNo" name="containsCMR" value="no" checked>
                            <label for="cmrNo">Non</label>
                        </div>
                    </div>
                    
                    <div class="form-group hidden" id="cmrDetailsGroup">
                        <label for="cmrDetails" class="required">Détails sur les substances CMR</label>
                        <textarea id="cmrDetails" name="cmrDetails"></textarea>
                        <p class="help-text">Indiquez le nom INCI, la catégorie CMR, la concentration et la justification d'utilisation.</p>
                    </div>
                    
                    <div class="form-group">
                        <label class="required">Le produit contient-il des nanomatériaux ?</label>
                        <div class="info-tooltip">
                            <span class="info-icon">?</span>
                            <div class="tooltip-content">
                                Un nanomatériau est un matériau insoluble ou bio-persistant, fabriqué intentionnellement et possédant une ou plusieurs dimensions externes ou une structure interne à l'échelle de 1 à 100 nm. Leur utilisation nécessite une notification spécifique.
                            </div>
                        </div>
                        <div class="checkbox-container">
                            <input type="radio" id="nanoYes" name="containsNano" value="yes">
                            <label for="nanoYes">Oui</label>
                        </div>
                        <div class="checkbox-container">
                            <input type="radio" id="nanoNo" name="containsNano" value="no" checked>
                            <label for="nanoNo">Non</label>
                        </div>
                    </div>
                    
                    <div class="form-group hidden" id="nanoDetailsGroup">
                        <label for="nanoDetails" class="required">Détails sur les nanomatériaux</label>
                        <textarea id="nanoDetails" name="nanoDetails"></textarea>
                        <p class="help-text">Indiquez le nom, les caractéristiques physico-chimiques, la concentration et les données de sécurité disponibles.</p>
                    </div>
                    
                    <div class="section-navigation">
                        <button type="button" class="nav-btn" onclick="prevSection(2)">Précédent</button>
                        <button type="button" class="nav-btn" onclick="nextSection(2)">Suivant</button>
                    </div>
                </div>
                
                <div class="form-section hidden" id="section3">
                    <h2 class="form-section-title">3. Caractéristiques physico-chimiques et stabilité</h2>
                    
                    <div class="form-group">
                        <label for="physicalState" class="required">État physique</label>
                        <select id="physicalState" name="physicalState" required>
                            <option value="">Sélectionner</option>
                            <option value="Liquide">Liquide</option>
                            <option value="Crème">Crème</option>
                            <option value="Gel">Gel</option>
                            <option value="Poudre">Poudre</option>
                            <option value="Solide">Solide</option>
                            <option value="Autre">Autre</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="pH" class="required">pH du produit</label>
                        <input type="number" id="pH" name="pH" step="0.1" min="0" max="14" required>
                        <p class="help-text">Pour les produits aqueux. Si non applicable, indiquez "N/A".</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="viscosity">Viscosité</label>
                        <input type="text" id="viscosity" name="viscosity">
                        <p class="help-text">Si disponible, précisez l'unité (cP, mPas, etc.)</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="density">Densité</label>
                        <input type="number" id="density" name="density" step="0.001">
                        <p class="help-text">Si disponible</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="stabilityTests" class="required">Tests de stabilité réalisés</label>
                        <textarea id="stabilityTests" name="stabilityTests" required></textarea>
                        <p class="help-text">Décrivez les tests réalisés (chaleur, froid, cycles, lumière...) et leurs résultats</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="stabilityReport">Télécharger le rapport de stabilité</label>
                        <div class="file-upload" onclick="document.getElementById('stabilityReport').click()">
                            <p>Cliquez pour télécharger ou glissez-déposez</p>
                            <input type="file" id="stabilityReport" name="stabilityReport" class="file-upload-input" accept=".pdf,.doc,.docx,.xls,.xlsx">
                        </div>
                        <div id="stabilityFileList" class="file-list"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="shelfLife" class="required">Durée de vie du produit (en mois)</label>
                        <input type="number" id="shelfLife" name="shelfLife" min="1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="pao" class="required">PAO (Period After Opening) en mois</label>
                        <input type="number" id="pao" name="pao" min="1" required>
                        <p class="help-text">Période après ouverture pendant laquelle le produit peut être utilisé sans danger</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="storageConditions" class="required">Conditions de stockage recommandées</label>
                        <textarea id="storageConditions" name="storageConditions" required></textarea>
                        <p class="help-text">Ex: Conserver à température ambiante, à l'abri de la lumière et de l'humidité</p>
                    </div>
                    
                    <div class="section-navigation">
                        <button type="button" class="nav-btn" onclick="prevSection(3)">Précédent</button>
                        <button type="button" class="nav-btn" onclick="nextSection(3)">Suivant</button>
                    </div>
                </div>
                
                <div class="form-section hidden" id="section4">
                    <h2 class="form-section-title">4. Qualité microbiologique</h2>
                    
                    <div class="form-group">
                        <label for="microbiologicalSpecs" class="required">Spécifications microbiologiques du produit fini</label>
                        <textarea id="microbiologicalSpecs" name="microbiologicalSpecs" required></textarea>
                        <p class="help-text">Exemple: Flore totale < 1000 UFC/g, Absence de Staphylococcus aureus, etc.</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="microbiologicalMethods">Méthodes d'analyse utilisées</label>
                        <textarea id="microbiologicalMethods" name="microbiologicalMethods"></textarea>
                        <p class="help-text">Mentionnez les normes et méthodes appliquées</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="preservationSystem" class="required">Système de conservation</label>
                        <textarea id="preservationSystem" name="preservationSystem" required></textarea>
                        <p class="help-text">Décrivez le système de conservation utilisé (conservateurs chimiques, packaging, etc.)</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="challengeTest">Télécharger le Challenge Test</label>
                        <div class="file-upload" onclick="document.getElementById('challengeTest').click()">
                            <p>Cliquez pour télécharger ou glissez-déposez</p>
                            <input type="file" id="challengeTest" name="challengeTest" class="file-upload-input" accept=".pdf,.doc,.docx,.xls,.xlsx">
                        </div>
                        <div id="challengeFileList" class="file-list"></div>
                        <p class="help-text">Test d'efficacité du système conservateur selon la norme ISO 11930 ou équivalent</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="microbiologicalReport">Télécharger les rapports d'analyses microbiologiques</label>
                        <div class="file-upload" onclick="document.getElementById('microbiologicalReport').click()">
                            <p>Cliquez pour télécharger ou glissez-déposez</p>
                            <input type="file" id="microbiologicalReport" name="microbiologicalReport" class="file-upload-input" accept=".pdf,.doc,.docx,.xls,.xlsx">
                        </div>
                        <div id="microbiologicalFileList" class="file-list"></div>
                    </div>
                    
                    <div class="section-navigation">
                        <button type="button" class="nav-btn" onclick="prevSection(4)">Précédent</button>
                        <button type="button" class="nav-btn" onclick="nextSection(4)">Suivant</button>
                    </div>
                </div>
                
                <div class="form-section hidden" id="section5">
                    <h2 class="form-section-title">5. Impuretés, traces et information sur le matériau d'emballage</h2>
                    
                    <div class="form-group">
                        <label for="impurities" class="required">Impuretés et traces identifiées</label>
                        <textarea id="impurities" name="impurities" required></textarea>
                        <p class="help-text">Listez les impuretés, traces de substances interdites ou restreintes. Si aucune, indiquez "Aucune impureté ou trace identifiée".</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="packagingMaterial" class="required">Matériau d'emballage primaire</label>
                        <select id="packagingMaterial" name="packagingMaterial" required>
                            <option value="">Sélectionner</option>
                            <option value="Verre">Verre</option>
                            <option value="PET">PET (Polyéthylène téréphtalate)</option>
                            <option value="HDPE">HDPE (Polyéthylène haute densité)</option>
                            <option value="LDPE">LDPE (Polyéthylène basse densité)</option>
                            <option value="PP">PP (Polypropylène)</option>
                            <option value="Aluminium">Aluminium</option>
                            <option value="Autre">Autre</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="packagingDescription" class="required">Description détaillée de l'emballage</label>
                        <textarea id="packagingDescription" name="packagingDescription" required></textarea>
                        <p class="help-text">Décrivez tous les éléments (flacon, pompe, bouchon...) et leur composition</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="packagingCompatibility" class="required">Compatibilité emballage-produit</label>
                        <textarea id="packagingCompatibility" name="packagingCompatibility" required></textarea>
                        <p class="help-text">Décrivez les tests réalisés et leurs résultats. Mentionnez les problèmes potentiels (migration, interaction...)</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="packagingDocuments">Télécharger les documents relatifs à l'emballage</label>
                        <div class="file-upload" onclick="document.getElementById('packagingDocuments').click()">
                            <p>Cliquez pour télécharger ou glissez-déposez</p>
                            <input type="file" id="packagingDocuments" name="packagingDocuments" class="file-upload-input" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png">
                        </div>
                        <div id="packagingFileList" class="file-list"></div>
                        <p class="help-text">Fiches techniques, certificats, tests de compatibilité...</p>
                    </div>
                    
                    <div class="section-navigation">
                        <button type="button" class="nav-btn" onclick="prevSection(5)">Précédent</button>
                        <button type="button" class="nav-btn" onclick="nextSection(5)">